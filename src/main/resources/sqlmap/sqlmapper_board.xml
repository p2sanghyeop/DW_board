<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- mybatis에 mapper경로를 적어야 한다 -->
<mapper namespace="com.dw.board.mapper.BoardMapper">
	<insert id="insertBoard">
	insert into board
	(title, 
	content
	<if test="studentsId>0">
	,students_id</if>
	)
	values
	(#{title}, 
	#{content}
	<if test="studentsId>0">
	,#{studentsId}</if>
	)
	</insert>
	<!-- join으로 조회할때 resultType map으로  -->
	<select id="selecrAllBoard" resultType="map" >
	select
	b.board_id as boardId,
	s.students_id as studentsId,
	s.students_name as studentsName,
	b.title,
	b.content,
	ifnull(b.update_at, '-') as updateAt,
	date_format(b.create_at, '%Y-%m-%d') as createAt
	from board as b
	inner join students as s
	on b.students_id = s.students_id
	</select>
</mapper>